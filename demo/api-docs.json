{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080/api","description":"Generated server url"}],"tags":[{"name":"bookings","description":"عمليات الحجز العامة (workspace, apartment, etc.)"},{"name":"users","description":"عمليات إنشاء واستعلام المستخدمين"},{"name":"transport","description":"عمليات حجز النقل"},{"name":"payments","description":"عمليات الدفع (Stripe/PayPal)"}],"paths":{"/api/transport/book":{"post":{"tags":["transport"],"summary":"Book a transport ride","operationId":"bookTransport","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransportBookingDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransportBookingDTO"}}}}}}},"/api/payments/checkout":{"post":{"tags":["payments"],"summary":"Initiate payment session (Stripe / PayPal)","operationId":"initiatePayment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentRequestDTO"}}},"required":true},"responses":{"200":{"description":"Checkout session info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDTO"}}}}}}},"/api/bookings":{"get":{"tags":["bookings"],"summary":"List bookings","operationId":"listBookings","parameters":[{"name":"userId","in":"query","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"status","in":"query","required":false,"schema":{"type":"string","enum":["PENDING","CONFIRMED","CANCELLED","PAID","EXPIRED"]}}],"responses":{"200":{"description":"List of bookings","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingDTO"}}}}}}},"post":{"tags":["bookings"],"summary":"Create a new booking (workspace, apartment, etc.)","operationId":"createBooking","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}},"required":true},"responses":{"201":{"description":"Booking created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}}}}}},"/transport/flights":{"get":{"tags":["transport-controller"],"operationId":"getAllFlights","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransportDTO"}}}}}}}},"/api/users":{"get":{"tags":["users"],"summary":"List all users","operationId":"listUsers","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}}},"/api/users/{id}":{"get":{"tags":["users"],"summary":"Get user by id","operationId":"getUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/bookings/{bookingId}":{"get":{"tags":["bookings"],"summary":"Get booking details","operationId":"getBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Booking details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}}}}}},"/":{"get":{"tags":["hello-controller"],"operationId":"hello","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"TransportBookingDTO":{"required":["dropoffAddress","pickupAddress","price","scheduledAt","userId"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"userId":{"type":"integer","format":"int32"},"pickupAddress":{"type":"string"},"dropoffAddress":{"type":"string"},"scheduledAt":{"type":"string","format":"date-time"},"price":{"type":"number","format":"double"}}},"PaymentResponseDTO":{"required":["checkoutUrl","providerSessionId"],"type":"object","properties":{"checkoutUrl":{"type":"string","format":"uri"},"expiresAt":{"type":"string","format":"date-time"},"providerSessionId":{"type":"string"}}},"PaymentRequestDTO":{"required":["amount","bookingId","currency","provider"],"type":"object","properties":{"bookingId":{"type":"integer","format":"int64"},"amount":{"type":"number","format":"double"},"currency":{"type":"string","example":"MYR"},"provider":{"type":"string","enum":["STRIPE","PAYPAL"]}}},"BookingDTO":{"required":["endTime","resourceId","startTime","totalPrice","userId"],"type":"object","properties":{"id":{"type":"integer","format":"int64","example":42},"userId":{"type":"integer","format":"int32","example":1},"resourceId":{"type":"string","description":"Identifier of the booked asset (room, apartment, vehicle …)","example":"ROOM-A1"},"startTime":{"type":"string","format":"date-time","example":"2025-05-15T09:00:00Z"},"endTime":{"type":"string","format":"date-time","example":"2025-05-15T17:00:00Z"},"totalPrice":{"type":"number","format":"double","example":199.99},"status":{"type":"string","enum":["PENDING","CONFIRMED","CANCELLED","PAID","EXPIRED"]},"createdAt":{"type":"string","format":"date-time","readOnly":true,"example":"2025-05-01T12:00:00Z"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"example":"2025-05-01T12:00:00Z"}}},"TransportDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"title":{"type":"string"},"departure":{"type":"string"},"arrival":{"type":"string"},"dateTime":{"type":"string"},"price":{"type":"number","format":"double"}}},"UserDTO":{"required":["email","fullName"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"email":{"type":"string"},"fullName":{"type":"string"}}}}}}